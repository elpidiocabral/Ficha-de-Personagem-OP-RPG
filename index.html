<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ficha One Piece RPG - A Vontade Dos Mares</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body> 
  <!-- Menu Inicial de Sele√ß√£o de Personagens -->
  <div id="menu-inicial" class="menu-inicial">
    <div class="menu-header">
      <h1>One Piece RPG - A Vontade Dos Mares</h1>
      <p>Selecione um personagem ou crie um novo pirata!</p>
      <button id="toggleThemeMenuBtn" class="theme-toggle-pill" onclick="alternarTema()">Modo Escuro</button>
    </div>
    
    <div class="menu-actions">
      <button class="btn btn-primary btn-large" onclick="criarNovoPersonagem()">
        ‚öì Criar Novo Personagem
      </button>
      <button class="btn btn-secondary btn-large" onclick="mostrarImportExport()">
        üìÅ Import/Export
      </button>
    </div>
    
    <div id="personagens-grid" class="personagens-grid">
      <!-- Personagens ser√£o carregados aqui -->
    </div>
    
    <!-- Modal de Import/Export -->
    <div id="modal-import-export" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Import/Export de Personagens</h3>
          <button class="modal-close" onclick="fecharImportExport()">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>Importar Personagem:</label>
            <input type="file" id="importPersonagem" accept=".json" onchange="importarPersonagem(this)">
          </div>
          <div class="form-group">
            <button class="btn btn-danger" onclick="limparTodosPersonagens()">
              üóëÔ∏è Limpar Todos os Personagens
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ficha do Personagem (Oculta inicialmente) -->
  <div id="ficha-container" class="container" style="display: none;">
    <div class="header">
      <button class="btn btn-voltar-menu" onclick="voltarParaMenu()">
        ‚Üê Voltar ao Menu
      </button>
      <h1 style="margin-right: 40px;">Ficha One Piece RPG - A Vontade Dos Mares</h1>
      <button id="toggleThemeBtn" class="theme-toggle-pill" onclick="alternarTema()">Modo Escuro</button>
    </div>    
  <!-- coment√°rio -->
  <!-- Sistema de Abas -->
  <div class="tabs">
    <button class="tab-button active" data-tab="tab-atributos">Atributos</button>
    <button class="tab-button" data-tab="tab-habilidades">Habilidades & Fruta</button>
    <button class="tab-button" data-tab="tab-pessoal">Pessoal</button>
    <button class="tab-button" data-tab="tab-itens">Itens & Equipamentos</button>
  </div>
  
  <!-- Aba de Atributos -->
  <div id="tab-atributos" class="tab-content active">
    <div class="grid">
        <!-- Informa√ß√µes B√°sicas e Avatar -->
        <div class="col-4">
          <div class="card">
            <div class="avatar-container">
              <img id="avatarPreview" class="avatar-preview" src="/placeholder.svg" alt="Avatar do Personagem">
              <label for="avatarInput" class="avatar-label">Escolher Imagem</label>
              <input type="file" id="avatarInput" class="avatar-upload" accept="image/*">
            </div>
            
              <div class="form-group">
                <label for="nome">Nome do Personagem</label>
                <input type="text" id="nome" class="form-control" placeholder="Digite o nome do seu personagem">
              </div>

            <div class="grid">
              <div class="col-6">
                <div class="form-group">
                  <label for="raca">Ra√ßa</label>
                  <select id="raca">
                    <option value="umano">Humano</option>
                    <option value="homem-peixe">Homem-Peixe</option>
                    <option value="tritao">Trit√£o</option>
                    <option value="mink">Mink</option>
                    <option value="skypean">Povo do C√©u</option>
                    <option value="tontatta">An√£o Tontatta</option>
                  </select>
                </div>
              </div>

              <div class="col-4">
                <div class="form-group">
                  <label for="classe">Classe</label>
                  <select id="classe">
                    <option value="Lutador">Lutador</option>
                    <option value="Guerrilheiro">Guerrilheiro</option>
                    <option value="ArtistaMarcial">Artista Marcial</option>
                    <option value="Espadachim">Espadachim</option>
                    <option value="Atirador">Atirador</option>
                    <option value="Especialista">Especialista</option>
                    <option value="Assassino">Assassino</option>
                    <option value="Ladrao">Ladr√£o</option>
                  </select>
                </div>
              </div>

              <div class="col-2">
                <div class="form-group">
                  <label for="nivel-classe">N√≠vel</label>
                  <input type="text" id="nivel-classe" class="form-control" placeholder="1">
                </div>
              </div>

            </div>

            <div class="grid">
              <div class="col-6">
                <div class="form-group">
                  <label for="potencial">Potencial</label>
                  <select id="potencial">
                    <option value="Desastre">Desastre Sobrenatural</option>
                    <option value="Monstro">Monstro</option>
                    <option value="sobre-humano">Sobre-Humano</option>
                    <option value="humano">Humano</option>
                    <option value="Ciborgue">Ciborgue</option>
                  </select>
                </div>
              </div>

              <div class="col-4">
                <div class="form-group">
                  <label for="profissao">Profiss√£o</label>
                  <select id="profissao">
                    <option value="Capitao">Capit√£o</option>
                    <option value="Combatente">Combatente</option>
                    <option value="Navegador">Navegador</option>
                    <option value="Medico">M√©dico</option>
                    <option value="Artilheiro">Artilheiro</option>
                    <option value="Cozinheiro">Cozinheiro</option>
                    <option value="Musico">M√∫sico</option>
                    <option value="Arqueologo">Arque√≥logo</option>
                    <option value="Carpinteiro">Carpinteiro</option>
                    <option value="Timoneiro">Timoneiro</option>
                    <option value="Cientista">Cientista</option>
                    <option value="Cacador">Ca√ßador de Recompensas</option>
                    <option value="Marinheiro">Marinheiro</option>
                    <option value="Revolucionario">Revolucion√°rio</option>
                  </select>
                </div>
              </div>

              <div class="col-2">
                <div class="form-group">
                  <label for="nivel-profissao">N√≠vel</label>
                  <input type="text" id="nivel-profissao" class="form-control" placeholder="1">
                </div>
              </div>

            </div>
          </div>
          
        <div class="card">
          <div class="card-header">
            <h2>Vida e Vigor</h2>
          </div>
          
          <!-- Status Vida -->
          <div class="status-bar">
            <div class="status-header">
              <span class="status-name" style="font-size: 20px;">Vida</span>
              <span class="status-value">
                Atual <input type="number" id="vidaAtual" value="10" style="width: 60px;"> 
                <b>/</b>
                Max <input type="number" id="vidaMax" value="10" style="width: 60px;">
              </span>
            </div>
            <div class="progress-container">
              <div id="vidaBar" class="progress-bar health" style="width: 100%;"></div>
            </div>
          </div>
          
          <!-- Vigor -->
          <div class="status-bar">
            <div class="status-header">
              <span class="status-name" style="font-size: 20px;">Vigor</span>
              <span class="status-value">
                Atual <input type="number" id="vigorAtual" value="6" style="width: 60px;"> 
                <b>/</b>
                Max <input type="number" id="vigorMax" value="6" style="width: 60px;">
              </span>
            </div>
            <div class="progress-container">
              <div id="vigorBar" class="progress-bar vigor" style="width: 100%;"></div>
            </div>
          </div>

          <!-- Controles de Dano -->
          <div class="form-group mt-2">
            <label for="danoSofrido">Aplicar Dano ou Gastar Vigor</label>
            <div class="grid">
              <div class="col-6">
                <input type="number" id="danoSofrido" class="form-control" placeholder="Quantidade">
              </div>
            </div>
            <div class="btn-group mt-1">
              <button type="button" class="btn btn-danger" onclick="sofrerDano()">Receber Dano</button>
              <button type="button" class="btn btn-success" onclick="gastarVigor()">Gastar Vigor</button>
            </div>
            <br/>
            <label for="recuperar">Recuperar Vida ou Vigor</label>
            <div class="grid">
              <div class="col-6">
                <input type="number" id="recuperar" class="form-control" placeholder="Quantidade">
              </div>
            </div>
            <div class="btn-group mt-1">
              <button type="button" class="btn btn-primary" onclick="recuperarDano()">Curar Vida</button>
              <button type="button" class="btn btn-success" onclick="recuperarVigor()">Recuperar Vigor</button>
              <button type="button" class="btn btn-secondary" onclick="resetarStatus()">Recuperar Tudo</button>
            </div>
          </div>
        </div>

        <!-- Informa√ß√µes de Combate -->
        <div class="card">
          <div class="card-header">
            <h2>Informa√ß√µes de Combate</h2>
          </div>
          
          <div class="grid">
            <div class="col-6">
              <div class="form-group">
                <label for="classeAcerto">Classe de Acerto (CA)</label>
                <input type="text" id="classeAcerto" class="form-control" placeholder="1 + (Agi | Res)" readonly>
              </div>
            </div>
            <div class="col-6">
              <div class="form-group">
                <label for="classeDificuldade">Classe de Dificuldade (CD)</label>
                <input type="text" id="classeDificuldade" class="form-control" placeholder="Maestria + (Pers | Dis)" readonly>
              </div>
            </div>
          </div>
          
          <div class="grid">
            <div class="col-6">
              <div class="form-group">
                <label for="determinacao">Determina√ß√£o</label>
                <input type="text" id="determinacao" class="form-control" placeholder="Ex: 90%">
              </div>
            </div>
            <div class="col-6">
              <div class="form-group">
                <label for="bonusMaestria">B√¥nus de Maestria</label>
                <input type="number" id="bonusMaestria" class="form-control" value="1">
              </div>
            </div>
          </div>
          
          <div class="grid">
            <div class="col-6">
              <div class="form-group">
                <label for="sorte">Sorte (1d20 inicial)</label>
                <input type="text" id="sorte" class="form-control" placeholder="Ex: 1d20">
              </div>
            </div>
            <div class="col-6">
              <div class="form-group">
                <label for="deslocamento">Deslocamento</label>
                <input type="text" id="deslocamento" class="form-control" placeholder="5m * Agilidade" readonly>
              </div>
            </div>
          </div>
        </div>

        <!-- Ferimentos e Les√µes -->
        <div class="card">
          <div class="card-header">
            <h2>Ferimentos e Les√µes</h2>
          </div>
        
          <div class="grid">
            <div class="col-6">
              <label>Local do Golpe</label>
              <input type="text" id="localFerida" class="form-control" placeholder="Ex: Bra√ßo esquerdo">
            </div>
            <div class="col-6">
              <label>Dano</label>
              <input type="number" id="danoFerida" class="form-control" placeholder="Ex: 5">
            </div>
            <div class="btn-group mt-1">
              <button type="button" class="btn btn-danger" onclick="addFerimento()">Ferimento</button>
              <button type="button" class="btn btn-secondary" onclick="addLesao()">Les√£o</button>
            </div>
          </div>
        
          <div id="listaFerimentosLesoes" class="mt-2"></div>
 
          <!-- Adi√ß√£o das Barras de Reserva de Vida e Vigor -->
            <div class="card-header">
              <h2>Reservas de Vida e Vigor</h2>
            </div>
            <div class="grid">
              <div class="col-6">
                <div class="reserva-container">
                  <div class="reserva-header">
                    <span class="reserva-titulo">Reserva de Vida</span>
                    <div class="reserva-info">
                      <span class="reserva-label">Baseado em: Resist√™ncia</span>
                    </div>
                  </div>
                  <div class="reserva-linha">
                    <div class="reserva-input-container">
                      <label for="reservaVidaQtd">Quantidade</label>
                      <input type="number" id="reservaVidaQtd" class="form-control" min="0" value="1">
                    </div>
                    <div class="reserva-dados-container">
                      <label>Dados</label>
                      <div id="reservaVidaDados" class="dados-texto">1d6</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-6">
                <div class="reserva-container">
                  <div class="reserva-header">
                    <span class="reserva-titulo">Reserva de Vigor</span>
                    <div class="reserva-info">
                      <span class="reserva-label">Baseado em: Persist√™ncia</span>
                    </div>
                  </div>
                  <div class="reserva-linha">
                    <div class="reserva-input-container">
                      <label for="reservaVigorQtd">Quantidade</label>
                      <input type="number" id="reservaVigorQtd" class="form-control" min="0" value="1">
                    </div>
                    <div class="reserva-dados-container">
                      <label>Dados</label>
                      <div id="reservaVigorDados" class="dados-texto">1d6</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

        </div>
        
      </div>
      
      <!-- Atributos Principais -->
      <div class="col-8">
        <div class="card">
          <div class="card-header">
            <h2>Atributos Principais</h2>
          </div>
          
          <div class="grid-10">
            <div class="col-2">
              <div class="attribute-box">
                <div class="attribute-name">For√ßa (FOR)</div>
                <input type="number" id="forcaTotal" class="attribute-value" readonly>

                <div class="attribute-inputs">
                  <div class="input-group">
                      <small>Base</small>
                      <input type="number" id="forcaBase" value="0" oninput="atualizarAtributos()">
                  </div>
                  <div class="input-group">
                      <small>B√¥nus</small>
                      <input type="number" id="forcaBonus" value="0" oninput="atualizarAtributos()">
                  </div>
                </div>              
              
              </div>
            </div>
            
            <div class="col-2">
              <div class="attribute-box">
                <div class="attribute-name">Vitalidade (VIT)</div>
                <input type="number" id="vitalidadeTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                    <input type="number" id="vitalidadeBase" placeholder="Base" value="0" oninput="atualizarAtributos()">
                  </div>
                  <div class="input-group">
                    <small>B√¥nus</small>
                    <input type="number" id="vitalidadeBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                  </div>
                </div>
              </div>
            </div>
            
            <div class="col-2">
              <div class="attribute-box">
                <div class="attribute-name">Conhecimento (CON)</div>
                <input type="number" id="conhecimentoTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                  <input type="number" id="conhecimentoBase" placeholder="Base" value="0" oninput="atualizarAtributos()">
                </div>
                <div class="input-group">
                  <small>B√¥nus</small>
                  <input type="number" id="conhecimentoBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                </div>
                </div>
              </div>
            </div>
            
            <div class="col-2">
              <div class="attribute-box">
                <div class="attribute-name">Vontade (VON)</div>
                <input type="number" id="vontadeTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                  <input type="number" id="vontadeBase" placeholder="Base" value="0" oninput="atualizarAtributos()">
                </div>
                <div class="input-group">
                  <small>B√¥nus</small>
                  <input type="number" id="vontadeBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                </div>
                </div>
              </div>
            </div>
            
            <div class="col-2">
              <div class="attribute-box">
                <div class="attribute-name">Velocidade (VELO)</div>
                <input type="number" id="velocidadeTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                  <input type="number" id="velocidadeBase" placeholder="Base" value="0" oninput="atualizarAtributos()">
                </div>
                <div class="input-group">
                  <small>B√¥nus</small>
                  <input type="number" id="velocidadeBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                </div>
                </div>
              </div>
            </div>
            
            <div class="col-2">
              <div class="attribute-box">
                <div class="attribute-name">Destreza (DESTR)</div>
                <input type="number" id="destrezaTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                    <input type="number" id="destrezaBase" placeholder="Base" value="0" oninput="atualizarAtributos()">
                  </div>
                  <div class="input-group">
                    <small>B√¥nus</small>
                    <input type="number" id="destrezaBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                  </div>
                </div>
              </div>
            </div>
            
            <div class="col-2">
              <div class="attribute-box">
                <div class="attribute-name">Apar√™ncia (APA)</div>
                <input type="number" id="aparenciaTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                    <input type="number" id="aparenciaBase" placeholder="Base" value="0" oninput="atualizarAtributos()">
                  </div>
                  <div class="input-group">
                    <small>B√¥nus</small>
                    <input type="number" id="aparenciaBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                  </div>
                </div>
              </div>
            </div>
            
            <div class="col-2">
              <div class="attribute-box">
                <div class="attribute-name">Racioc√≠nio (RAC)</div>
                <input type="number" id="raciocinioTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                  <input type="number" id="raciocinioBase" placeholder="Base" value="0" oninput="atualizarAtributos()">
                </div>
                <div class="input-group">
                  <small>B√¥nus</small>
                  <input type="number" id="raciocinioBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                </div>
                </div>
              </div>
            </div>
            
            <div class="col-2">
              <div class="attribute-box">
                <div class="attribute-name">Destino (DESTI)</div>
                <input type="number" id="destinoTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                  <input type="number" id="destinoBase" placeholder="Base" value="0" oninput="atualizarAtributos()">
                </div>
                <div class="input-group">
                  <small>B√¥nus</small>
                  <input type="number" id="destinoBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                </div>
                </div>
              </div>
            </div>
            
            <div class="col-2">
              <div class="attribute-box">
                <div class="attribute-name">Resili√™ncia (RESI)</div>
                <input type="number" id="resilienciaTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                  <input type="number" id="resilienciaBase" placeholder="Base" value="0" oninput="atualizarAtributos()">
                </div>
                <div class="input-group">
                  <small>B√¥nus</small>
                  <input type="number" id="resilienciaBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Atributos Derivados -->
        <div class="card">
          <div class="card-header">
            <h2>Atributos Derivados</h2>
          </div>
          
          <div class="grid">

            <!-- Persist√™ncia -->
            <div class="col-4">
              <div class="attribute-box">
                <small>Conhecimento + Vitalidade</small>
                <div class="attribute-name">Persist√™ncia</div>
                <input type="number" id="persistenciaTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                  <input type="number" id="persistenciaBase" placeholder="Base" readonly>
                </div>
                <div class="input-group">
                  <small>B√¥nus</small>
                  <input type="number" id="persistenciaBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                </div>
                </div>
              </div>
            </div>

            <!-- Disciplina -->
            <div class="col-4">
              <div class="attribute-box">
                <small>Racioc√≠nio + Vontade</small>
                <div class="attribute-name">Disciplina</div>
                <input type="number" id="disciplinaTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                  <input type="number" id="disciplinaBase" placeholder="Base" readonly>
                </div>
                <div class="input-group">
                  <small>B√¥nus</small>
                  <input type="number" id="disciplinaBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                </div>
                </div>
              </div>
            </div>

            <!-- Carisma -->
            <div class="col-4">
              <div class="attribute-box">
                <small>Apar√™ncia + Destino</small>
                <div class="attribute-name">Carisma</div>
                <input type="number" id="carismaTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                  <input type="number" id="carismaBase" placeholder="Base" readonly>
                </div>
                <div class="input-group">
                  <small>B√¥nus</small>
                  <input type="number" id="carismaBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                </div>
                </div>
              </div>
            </div>

            <!-- Agilidade -->
            <div class="col-6">
              <div class="attribute-box">
                <small>Destreza + Velocidade</small>
                <div class="attribute-name">Agilidade</div>
                <input type="number" id="agilidadeTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                  <input type="number" id="agilidadeBase" placeholder="Base" readonly>
                </div>
                <div class="input-group">
                  <small>B√¥nus</small>
                  <input type="number" id="agilidadeBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                </div>
                </div>
              </div>
            </div>

            <!-- Resist√™ncia -->
            <div class="col-6">
              <div class="attribute-box">
                <small>For√ßa + Resili√™ncia</small>
                <div class="attribute-name">Resist√™ncia</div>
                <input type="number" id="resistenciaTotal" class="attribute-value" readonly>
                <div class="attribute-inputs">
                  <div class="input-group">
                    <small>Base</small>
                  <input type="number" id="resistenciaBase" placeholder="Base" readonly>
                </div>
                <div class="input-group">
                  <small>B√¥nus</small>
                  <input type="number" id="resistenciaBonus" placeholder="B√¥nus" value="0" oninput="atualizarAtributos()">
                </div>
                </div>
              </div>
            </div>

          </div>
        </div>
        
        <!-- Ataques -->
        <div class="card">
          <div class="card-header">
              <h2>Ataques</h2>
          </div>
          
          <div class="grid">
              <div class="col-4">
                  <div class="form-group">
                      <label for="ataqueNome">Nome do Ataque</label>
                      <input type="text" id="ataqueNome" class="form-control" placeholder="Ex: Ataque com Katana...">
                  </div>
              </div>
              <div class="col-3">
                  <div class="form-group">
                      <label for="ataqueBonus">B√¥nus de Acerto</label>
                      <input type="number" id="ataqueBonus" class="form-control" placeholder="+10">
                  </div>
              </div>
              <div class="col-3">
                  <div class="form-group">
                      <label for="ataqueDano">Dano</label>
                      <input type="text" id="ataqueDano" class="form-control" placeholder="Ex: 1d8+10 Perfurante">
                  </div>
              </div>
              <div class="col-2">
                  <button type="button" class="btn btn-primary mt-3" onclick="adicionarAtaque()">Adicionar</button>
              </div>
          </div>
          
          <!-- Lista de ataques -->
          <div class="mt-2">
              <h3>Lista de Ataques</h3>
              <div id="listaAtaques"></div>
          </div>
        </div>
      

        <!-- Compet√™ncias - Aptid√£o -->
        <div class="card">
          <div class="card-header">
            <h2>Compet√™ncias / Aptid√µes / Trunfos</h2>
          </div>

          <details open class="card">
            <summary class="card-header"> Pontos Dispon√≠veis e Adicionar Novo </summary>
          <div class="grid">

            <div class="col-6">
              <div class="form-group">
                <span class="status-value">
                  <u>Pontos de Compet√™ncia Dispon√≠veis</u> <input type="number" id="competencia-pontos" class="form-control" placeholder="0">
                </span>
              </div>
            </div>

            <div class="col-6">
              <div class="form-group">
                <span class="status-value">
                <u>Pontos de Aptid√£o Dispon√≠veis</u> <input type="number" id="aptidao-pontos" class="form-control" placeholder="0">
                </span>
              </div>
            </div>

            <div class="col-4">
              <div class="form-group">
                <label for="compNome">Nome</label>
                <input type="text" id="compNome" class="form-control" placeholder="Ex: Combate Desarmado">
              </div>
            </div>
            <div class="col-2">
              <div class="form-group">
                <label for="compTipo">Tipo</label>
                <select id="compTipo" class="form-control" onchange="toggleNivelInput()">
                  <option value="competencia">Compet√™ncia</option>
                  <option value="aptidao">Aptid√£o</option>
                  <option value="trunfo">Trunfo</option>
                </select>                
              </div>
            </div>
            <div class="col-2" id="nivelWrapper">
              <div class="form-group">
                <label for="compNivel">N√≠vel</label>
                <input type="number" id="compNivel" class="form-control" value="0">
              </div>
            </div>            
            <div class="col-12">
              <div class="form-group">
                <label for="compObs">Observa√ß√µes</label>
                <textarea id="compObs" class="form-control" rows="2" placeholder="Ex: Especializa√ß√£o em combate corpo a corpo..."></textarea>
              </div>
            </div>
          </div>
          
          <button type="button" class="btn btn-primary" onclick="adicionarCompetencia()">Adicionar</button>
          </details>

          <div class="mt-2">
            <h3>Compet√™ncias</h3>
            <div id="listaCompetencias" class="grid-10"></div>
            <h3>Aptid√µes</h3>
            <div id="listaAptidoes" class="grid-10"></div>
            <h3>Trunfos</h3>
            <div id="listaTrunfos" class="grid-10"></div>
          </div>
        </div>
        
      </div>
    </div>
  </div>
  
  <!-- Aba de Habilidades -->
  <div id="tab-habilidades" class="tab-content">
    <!-- Contadores de Pontos -->
    <div class="grid">
        <div class="col-6">
          <span class="status-value">
            <b>Pontos de Habilidade Dispon√≠veis</b> <input type="number" id="habilidade-pontos" class="form-control" placeholder="0">
          </span>
        </div>

        <div class="col-6">
          <span class="status-value">
            <b>Pontos de Habilidade p/ Fruta Dispon√≠veis</b> <input type="number" id="habilidade-fruta-pontos" class="form-control" placeholder="0">
          </span>
        </div>
    </div>
    <br/>
    <div class="grid">
      <!-- Habilidades / T√©cnicas -->

      <div class="col-6">
        <div class="card">
          <div class="card-header">
            <h2>Habilidades / T√©cnicas</h2>
          </div>
          
          <details open class="card">
            <summary class="card-header"> Adicionar Habilidade </summary>

            <div class="form-group">
              <label for="habNome">Nome da Habilidade</label>
              <input type="text" id="habNome" class="form-control" placeholder="Digite o nome da sua habilidade">
            </div>
            
            <div class="form-group">
              <label for="habCustoCompra">Custo de Compra (PH)</label>
              <input type="number" id="habCustoCompra" class="form-control" placeholder="Ex: 10 PH">
            </div>
            
            <div class="form-group">
              <label for="habCusto">Custo de Uso</label>
              <input type="text" id="habCusto" class="form-control" placeholder="Ex: 2d6 de Vigor, A√ß√£o e Complemento">
            </div>
            
            <div class="form-group">
              <label for="habAlcance">Alcance e Dura√ß√£o</label>
              <input type="text" id="habAlcance" class="form-control" placeholder="Ex: 10m, Instant√¢neo">
            </div>
            
            <div class="form-group">
              <label for="habDesc">Descri√ß√£o e Efeito(s)</label>
              <textarea id="habDesc" class="form-control" rows="3" placeholder="Descri√ß√£o e efeito(s) da habilidade..."></textarea>
            </div>          
            
            <button type="button" id="btnHabilidade" class="btn btn-primary" onclick="adicionarOuSalvarEdicaoHabilidade()">Adicionar Habilidade</button>
          </details>
          <div id="listaHabilidades" class="mt-2"></div>
        </div>
      </div>
      
      <!-- Akuma no Mi -->
      <div class="col-6">
        <div class="card">
          <div class="card-header">
            <h2>Akuma no Mi (Fruta do Diabo)</h2>
          </div>
          
          <details open class="card">
            <summary class="card-header"> Descri√ß√£o da Fruta </summary>
            <div class="form-group">
              <label for="akumaNome">Nome da Fruta</label>
              <input type="text" id="akumaNome" class="form-control" placeholder="Ex: Gomu Gomu no Mi">
            </div>

            <div class="form-row" style="display: flex; gap: 1rem;">
              <div style="flex: 1;">
                <label for="akumaTipo">Tipo da Fruta</label>
                <select id="akumaTipo" class="form-control" onchange="atualizarSubtipos()">
                  <option value="Paramecia">Paramecia</option>
                  <option value="Zoan">Zoan</option>
                  <option value="Logia">Logia</option>
                </select>
              </div>
              <div style="flex: 1;">
                <label for="akumaSubtipo">Subtipo</label>
                <select id="akumaSubtipo" class="form-control"></select>
              </div>
            </div>

            <div class="form-group">
              <label for="akumaTematica">Tem√°tica</label>
              <input type="text" id="akumaTematica" class="form-control" placeholder="Ex: Borracha, Gravidade, Sombras...">
            </div>

            <div class="form-group">
              <label for="akumaDesejo">Desejo que a Criou</label>
              <input type="text" id="akumaDesejo" class="form-control" placeholder="Ex: Superar limites, Controlar o destino...">
            </div>

            <div class="form-group">
              <label for="nivelFruta">N√≠vel da Fruta</label>
              <input type="number" id="nivelFruta" class="form-control" value="0">
            </div>
          </details>
          <hr class="mb-2">
          
          <h3 class="mb-2">Habilidades da Fruta</h3>
          <details open class="card">
            <summary class="card-header"> Adicionar Habilidade da Fruta </summary>
            <div class="form-group">
              <label for="frutaNome">Nome da Habilidade da Fruta</label>
              <input type="text" id="frutaNome" class="form-control" placeholder="Digite o nome da sua habilidade">
            </div>
            
            <div class="form-group">
              <label for="frutaCustoCompra">Custo de Compra (PH)</label>
              <input type="number" id="frutaCustoCompra" class="form-control" placeholder="Ex: 0">
            </div>
            
            <div class="form-group">
              <label for="frutaCusto">Custo de Uso</label>
              <input type="text" id="frutaCusto" class="form-control" placeholder="2d6 de Vigor, A√ß√£o e Complemento">
            </div>
            
            <div class="form-group">
              <label for="frutaAlcance">Alcance e Dura√ß√£o</label>
              <input type="text" id="frutaAlcance" class="form-control" placeholder="Ex: 6m, 1 turno">
            </div>
            
            <div class="form-group">
              <label for="frutaDesc">Descri√ß√£o/Efeito</label>
              <textarea id="frutaDesc" class="form-control" rows="3" placeholder="Descri√ß√£o e efeito(s) da habilidade..."></textarea>
            </div>          
            
            <button type="button" id="btnFruta" class="btn btn-secondary" onclick="adicionarOuSalvarEdicaoFruta()">Adicionar Habilidade da Fruta</button>
          </details>
          <div id="listaFruta" class="mt-2"></div>
        </div>
      </div>
      
    </div>
  </div>
  
  <!-- Aba Pessoal -->
  <div id="tab-pessoal" class="tab-content">
    <div class="grid">
      <!-- Informa√ß√µes Pessoais -->
      <div class="col-6">
        <div class="card">
          <div class="card-header">
            <h2>Informa√ß√µes Pessoais</h2>
          </div>
          
          <div class="form-group">
            <label for="ilhaOrigem">Ilha de Origem</label>
            <input type="text" id="ilhaOrigem" class="form-control">
          </div>
          
          <div class="form-group">
            <label for="historia">Hist√≥ria</label>
            <textarea id="historia" class="form-control" rows="4"></textarea>
          </div>
          
          <div class="form-group">
            <label for="sonho">Sonho</label>
            <textarea id="sonho" class="form-control" rows="2"></textarea>
          </div>
          
          <div class="form-group">
            <label for="pessoaImportante">Pessoa Mais Importante</label>
            <input type="text" id="pessoaImportante" class="form-control">
          </div>
          
          <div class="form-group">
            <label for="objetivos">Objetivos</label>
            <textarea id="objetivos" class="form-control" rows="2"></textarea>
          </div>
        </div>
      </div>
      
      <!-- Caracter√≠sticas e Progresso -->
      <div class="col-6">
        <div class="card">
          <div class="card-header">
            <h2>Caracter√≠sticas</h2>
          </div>
          
          <div class="form-group">
            <label for="qualidades">Caracter√≠sticas Ben√©ficas</label>
            <textarea id="qualidades" class="form-control" rows="2"></textarea>
          </div>
          
          <div class="form-group">
            <label for="defeitos">Caracter√≠sticas Mal√©ficas</label>
            <textarea id="defeitos" class="form-control" rows="2"></textarea>
          </div>
          
          <div class="form-group">
            <label for="habilidadeInutil">Habilidade In√∫til</label>
            <input type="text" id="habilidadeInutil" class="form-control">
          </div>
          
          <div class="grid">
            <div class="col-6">
              <div class="form-group">
                <label for="reputacao">Reputa√ß√£o</label>
                <input type="text" id="reputacao" class="form-control">
              </div>
            </div>
            <div class="col-6">
              <div class="form-group">
                <label for="moral">Moral</label>
                <input type="text" id="moral" class="form-control">
              </div>
            </div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header">
            <h2>Progresso</h2>
          </div>
          
          <div class="grid">
            <div class="col-6">
              <div class="form-group">
                <label for="nivelClasse">N√≠vel da Classe</label>
                <input type="number" id="nivelClasse" class="form-control" value="1" disabled>
              </div>
            </div>
            <div class="col-6">
              <div class="form-group">
                <label for="nivelProfissao">N√≠vel da Profiss√£o</label>
                <input type="number" id="nivelProfissao" class="form-control" value="1" disabled>
              </div>
            </div>
          </div>
          
          <div class="grid">
            <div class="col-6">
              <div class="form-group">
                <label for="bounty">Recompensa (Bounty)</label>
                <input type="text" id="bounty" class="form-control" placeholder="Ex: 300.000.000">
              </div>
            </div>
            <div class="col-6">
              <div class="form-group">
                <label for="dinheiro">Berries (Dinheiro)</label>
                <input type="text" id="dinheiro" class="form-control" placeholder="Ex: 50.000">
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Sess√µes / Di√°rio -->
      <div class="col-12">
        <div class="card">
          <div class="card-header">
            <h2>Controle de Sess√µes / Di√°rio</h2>
          </div>
          
          <div class="form-group">
            <label for="sessaoTitulo">T√≠tulo / Data da Sess√£o</label>
            <input type="text" id="sessaoTitulo" class="form-control" placeholder="Ex: Sess√£o 1 - In√≠cio da Jornada">
          </div>
          
          <div class="form-group">
            <label for="sessaoResumo">Resumo / Ocorridos / Treino Ganho</label>
            <textarea id="sessaoResumo" class="form-control" rows="3" placeholder="Ex: Conhecemos a nova ilha..."></textarea>
          </div>
          
          <button type="button" class="btn btn-primary" onclick="adicionarSessao()">Adicionar Sess√£o</button>
          
          <div id="listaSessoes" class="mt-2"></div>
        </div>
      </div>
      
      <!-- Anota√ß√µes Gerais -->
      <div class="col-12">
        <div class="card">
          <div class="card-header">
            <h2>Anota√ß√µes Gerais</h2>
          </div>
          
          <div class="form-group">
            <textarea id="anotacoesGerais" class="form-control" rows="4"></textarea>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Aba de Itens -->
  <div id="tab-itens" class="tab-content">
    <div class="grid">
      <!-- Itens / Equipamentos -->
      <div class="col-12">
        <div class="card">
          <div class="card-header">
            <h2>Itens / Equipamentos</h2>
          </div>
          
          <div class="grid">
            <div class="col-6">
              <div class="form-group">
                <label for="itemNome">Nome do Equipamento/Arma/Ferramenta </label>
                <input type="text" id="itemNome" class="form-control" placeholder="Ex: Sabre Pirata Ace">
              </div>
            </div>            
            <div class="col-4">
              <div class="form-group">
                <label for="itemDurabilidade">Durabilidade / Usos</label>
                <input type="number" id="itemDurabilidade" class="form-control" placeholder="Ex: 20">
              </div>
            </div>
            <div class="col-12">
              <div class="form-group">
                <label for="itemDesc">Descri√ß√£o / Observa√ß√µes</label>
                <textarea id="itemDesc" class="form-control" rows="2" placeholder="Ex: Espada Bastardar, Meito de Grau Supremo."></textarea>
              </div>
            </div>
          </div>
          
          <button type="button" class="btn btn-primary" id="btnAdicionarItem" onclick="adicionarItem()">Adicionar Item</button>
          <br/><br/>
          <div id="listaItens" class="grid"></div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Bot√µes de A√ß√£o -->
  <div class="btn-group">
    <button type="button" class="btn btn-primary" onclick="salvarFicha()">Salvar no Navegador</button>
    <button type="button" class="btn btn-secondary" onclick="exportarJSON()">Exportar .json</button>
    <input type="file" id="importJsonInput" style="display:none" accept=".json" onchange="importarJSON(this)">
    <button type="button" class="btn btn-secondary" onclick="document.getElementById('importJsonInput').click()">Importar .json</button>
    <button type="button" class="btn btn-success" onclick="window.print()">Imprimir Ficha</button>
    <button type="button" class="btn btn-danger" onclick="limparFicha()">Limpar Dados Salvos</button>
  </div>
<!-- Coment√°rio 2-->
  </div>

  <script src="scripts.js"></script>
</body>
</html>
